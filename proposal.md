# 410.734: Metagenomics
* Date: 12/1/2020
* Emily Tran [ttran66]

# Final Project Proposal
The intended goal of my project is to produce data visualizations based off data output by a tool we've discussed during the course. The project will focus on phylogenetic analysis of metagenome samples, using PhyloSift, which is an enclosed pipeline that goes from FASTA/FASTQ to taxonomic identification and will produce output that can be used for further visualization.

PhyloSift does use a visualization tool already, Krona, which it writes to an HTML file as part of its pipeline processing. This visualization uses HTML5/Canvas and produces an interactive pie chart that also gives a relative abundance of each particular clade within the overall sample.

I will point out that my project is re-treading ground that Krona, PhyloD3, Archaeopteryx, and the Interactive Tree of Life (ITOL) do cover. I'm not aiming for novelty, but hope to produce a graphing utility that allows a few configuration options for graph display with a relatively polished presentation.

Input data will be FASTA/FASTQ for PhyloSift and I will mostly focus on sample sizes with file sizes < 100 MB, which I find complete in less than an hour in practice. As an aside, PhyloSift's runtime is expected to be relatively constant even as read numbers from from 200,000 to 1,000,000, but can run upwards to 6 - 8 hours[1].

The tools required will include: Python v3, Plotly, and PhyloSift. See references to the tools below.

I had initially considering implementing a full web-based UI that would read local server data files, but I find that processing large data sets in a web app using Canvas or an SVG graphing library often performs very poorly. I chose to use a Python library instead, specifically Plotly which can produce HTML output. The HTML document allows for user interactability, but all the actual processing and calculations will be handled "offline" using Python.

I am leveraging 2 robust pre-built tools, but my goal is to connect them into a potentially useful way, since I am finding the output formats generated by bioinformatics tools don't necessarily align with some of the popular, modern graphing libraries, which often prefer CSV, TSV, or JSON. The scripts I will implement will include: Python scripts to convert phyloXML or Newick data formats to a nested JSON structure, as well as a structure readable by Plotly. I will also create wrapper Python scripts to generate output graphs given the tree data, providing different options for graph output, such as dendrogram or sunburst graphs, color schemes, etc.

While I won't be covering other phylogenetics and graphing tools in this project, I hope that these scripts could also be a plumbing utility between formats such as (phyloXML, newick) and (JSON).

Other deliverables will include detailed documentation on sample input data, installing and using PhyloSift, directions on setting up a local environment for Mac OS X, installing dependencies, how to use the scripts along with script options, and sample outputs.

# References
1. Darling AE, Jospin G, Lowe E, Matsen FA IV, Bik HM, Eisen JA. 2014. PhyloSift: phylogenetic analysis of genomes and metagenomes. PeerJ. [https://doi.org/10.7717/peerj.243](https://doi.org/10.7717/peerj.243)
1. PhyloSift. A. E. Darling, G. Jospin, E. Lowe, F. A. Matsen, H. M. Bik, J. A. Eisen. Submitted to PeerJ. [https://phylosift.wordpress.com/](https://phylosift.wordpress.com/)
1. Plotly. [https://plotly.com/python](https://plotly.com/python)